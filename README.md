## Бот для голосований в чатах mattermost

- бот дает возможность создать голосование, проголосовать, остановить голосование и удалить его.
- хранит данные в Tarantool.

## Установка

1. Клонирование репозитория:
```
git clone https://github.com/child6yo/mm-voting-bot 
cd mm-voting-bot
```
2. Запуск среды mattermost:
```
docker compose -f docker-compose.mm.yaml up -d
```
3. Создание бота внутри mattermost:
- Перейдите в: Integrations > Bot Accounts
- Add Bot Account
- Create Bot Account
- Скопируйте токен и вставьте в .env > BOT_MM_TOKEN
- Добавьте бота в желаемый канал.
4. Запуск бота:
```
docker compose -f docker-compose.yaml up -d
```

## Инструкция по взаимодействию

| Действие | Команда | Описание |
| --- | --- | --- |
| Создание голосования | !voting ВремяНаГолосование Вариант1 Вариант2 ... | Создает голосование, возвращает айди голосования и присваивает айди каждому варианту ответа |\
| Голосоваие | !vote IDГолосования IDОтвета | Добавляет один голос к указанному варианту |
| Просмотр результатов | !vshow IDГолосования | Возвращает все варианты ответа с количеством голосов |
| Завершение голосования | !vstop IDГолосования | Доступно только создателю голосования. Делает невозможным дальнейшее голосование |
| Удаление голосования | !vdelete IDГолосования | Доступно только создателю голосования. Полностью удаляет голосования, делая невозможным просмотр результатов |

### Пример работы - https://imgur.com/GEHpjAK
